<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smile Parfume - –ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è –ø–∞—Ä—Ñ—é–º–µ—Ä–∏—è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –∏ 10 —É–ª—É—á—à–µ–Ω–Ω—ã—Ö —Ç–µ–º */
        :root {
            --primary: #8B4513;
            --secondary: #D2691E;
            --accent: #FFD700;
            --background: #FFF8F0;
            --text: #333333;
            --text-light: #666666;
            --card-bg: #FFFFFF;
            --shadow: rgba(0,0,0,0.1);
            --border: #e0e0e0;
            --price-color: #E44D26;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #17a2b8;
        }

        .theme-classic {
            --primary: #8B4513;
            --secondary: #D2691E;
            --accent: #C19A6B;
            --background: #FDF5E6;
            --text: #5D4037;
            --text-light: #795548;
            --card-bg: #FFFFFF;
            --border: #D7CCC8;
            --price-color: #E44D26;
        }

        .theme-modern {
            --primary: #2C3E50;
            --secondary: #34495E;
            --accent: #3498DB;
            --background: #ECF0F1;
            --text: #2C3E50;
            --text-light: #5D6D7E;
            --card-bg: #FFFFFF;
            --border: #BDC3C7;
            --price-color: #E74C3C;
        }

        .theme-dark {
            --primary: #121212;
            --secondary: #1E1E1E;
            --accent: #BB86FC;
            --background: #121212;
            --text: #E0E0E0;
            --text-light: #B0B0B0;
            --card-bg: #1E1E1E;
            --border: #333333;
            --price-color: #FF6B35;
        }

        .theme-nature {
            --primary: #2E7D32;
            --secondary: #388E3C;
            --accent: #8BC34A;
            --background: #F1F8E9;
            --text: #1B5E20;
            --text-light: #4CAF50;
            --card-bg: #FFFFFF;
            --border: #C8E6C9;
            --price-color: #388E3C;
        }

        .theme-luxury {
            --primary: #6A1B9A;
            --secondary: #8E24AA;
            --accent: #E1BEE7;
            --background: #F3E5F5;
            --text: #4A148C;
            --text-light: #7B1FA2;
            --card-bg: #FFFFFF;
            --border: #E1BEE7;
            --price-color: #8E24AA;
        }

        .theme-ocean {
            --primary: #01579B;
            --secondary: #0277BD;
            --accent: #4FC3F7;
            --background: #E1F5FE;
            --text: #01579B;
            --text-light: #0288D1;
            --card-bg: #FFFFFF;
            --border: #B3E5FC;
            --price-color: #0277BD;
        }

        .theme-vintage {
            --primary: #5D4037;
            --secondary: #6D4C41;
            --accent: #BCAAA4;
            --background: #EFEBE9;
            --text: #4E342E;
            --text-light: #795548;
            --card-bg: #FFFFFF;
            --border: #D7CCC8;
            --price-color: #6D4C41;
        }

        .theme-minimal {
            --primary: #424242;
            --secondary: #616161;
            --accent: #9E9E9E;
            --background: #FAFAFA;
            --text: #212121;
            --text-light: #757575;
            --card-bg: #FFFFFF;
            --border: #E0E0E0;
            --price-color: #616161;
        }

        .theme-royal {
            --primary: #311B92;
            --secondary: #4527A0;
            --accent: #B388FF;
            --background: #EDE7F6;
            --text: #311B92;
            --text-light: #5E35B1;
            --card-bg: #FFFFFF;
            --border: #D1C4E9;
            --price-color: #4527A0;
        }

        .theme-sunset {
            --primary: #E65100;
            --secondary: #EF6C00;
            --accent: #FFB74D;
            --background: #FFF3E0;
            --text: #BF360C;
            --text-light: #F57C00;
            --card-bg: #FFFFFF;
            --border: #FFCCBC;
            --price-color: #EF6C00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* –í–µ—Ä—Ö–Ω—è—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å (—á–µ–ª–∫–∞) */
        .top-banner {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 0.5rem 0;
            text-align: center;
            font-size: 0.9rem;
            position: relative;
            transition: all 0.3s ease;
            overflow: hidden;
            max-height: 50px;
        }

        .top-banner.hidden {
            max-height: 0;
            padding: 0;
        }

        .banner-content {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
        }

        .banner-text {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .close-banner {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .close-banner:hover {
            opacity: 1;
        }

        .show-banner-btn {
            position: fixed;
            top: 0;
            right: 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 0 0 5px 5px;
            padding: 5px 10px;
            cursor: pointer;
            z-index: 1001;
            font-size: 0.8rem;
            opacity: 0.7;
            transition: opacity 0.3s;
        }

        .show-banner-btn:hover {
            opacity: 1;
        }

        /* –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ö–µ–¥–µ—Ä —Å –Ω–æ–≤—ã–º –ª–æ–≥–æ—Ç–∏–ø–æ–º */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 12px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
        }

        .logo-icon {
            position: relative;
            width: 40px;
            height: 40px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .crescent {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #FFD700;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
        }

        .crescent::after {
            content: '';
            position: absolute;
            top: 2px;
            right: 2px;
            width: 26px;
            height: 26px;
            background: var(--primary);
            border-radius: 50%;
        }

        .bottle {
            position: absolute;
            width: 12px;
            height: 20px;
            background: #8A2BE2;
            border-radius: 4px 4px 2px 2px;
            z-index: 2;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .bottle::before {
            content: '';
            position: absolute;
            top: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 4px;
            background: #8A2BE2;
            border-radius: 2px 2px 0 0;
        }

        nav ul {
            display: flex;
            list-style: none;
            flex-wrap: wrap;
        }

        nav li {
            margin: 0.5rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 0.7rem 1.2rem;
            border-radius: 25px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }

        nav a i {
            margin-right: 8px;
        }

        nav a:hover, nav a.active {
            background-color: var(--accent);
            color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .user-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-selector select, .auth-buttons button {
            padding: 0.7rem 1rem;
            border: none;
            border-radius: 25px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }

        .theme-selector select:hover, .auth-buttons button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .tab-content {
            display: none;
            padding: 2rem 0;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        h1, h2, h3, h4 {
            color: var(--text);
            margin-bottom: 1.5rem;
        }

        h2 {
            border-bottom: 2px solid var(--accent);
            padding-bottom: 0.5rem;
        }

        p, span, div {
            color: var(--text);
        }

        /* –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
        }

        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.8rem;
            }
        }

        .product-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 8px var(--shadow);
            transition: all 0.3s ease;
            position: relative;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px var(--shadow);
        }

        .product-image-container {
            height: 180px;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .product-image-container {
                height: 150px;
            }
        }

        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .product-card:hover .product-image {
            transform: scale(1.05);
        }

        .product-emoji-fallback {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
        }

        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--accent);
            color: var(--primary);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .product-info {
            padding: 1.2rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--text);
            line-height: 1.3;
        }

        .product-price {
            color: var(--price-color);
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .product-code {
            font-size: 0.75rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        .product-rating {
            display: flex;
            align-items: center;
            margin-bottom: 0.8rem;
        }

        .rating-stars {
            color: var(--accent);
            font-size: 1rem;
            margin-right: 0.5rem;
        }

        .rating-value {
            color: var(--text-light);
            font-size: 0.9rem;
            font-weight: bold;
        }

        .product-description {
            color: var(--text-light);
            margin-bottom: 1rem;
            line-height: 1.5;
            flex-grow: 1;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é */
        @media (max-width: 768px) {
            .products-grid .product-description {
                -webkit-line-clamp: 3;
            }
        }

        .product-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .tag {
            background-color: var(--secondary);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
        }

        .product-actions {
            display: flex;
            justify-content: space-between;
            margin-top: auto;
        }

        .btn {
            padding: 0.6rem 1rem;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        @media (max-width: 480px) {
            .btn {
                padding: 0.5rem 0.8rem;
                font-size: 0.8rem;
            }
        }

        /* –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã */
        .search-container {
            margin-bottom: 2rem;
        }

        .search-box {
            display: flex;
            margin-bottom: 1rem;
        }

        .search-box input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid var(--border);
            border-radius: 25px 0 0 25px;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text);
        }

        .search-box button {
            border-radius: 0 25px 25px 0;
            padding: 0 1.5rem;
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--text);
        }

        .filter-group select, .filter-group input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text);
        }

        /* –ö–æ—Ä–∑–∏–Ω–∞ */
        .cart-items {
            margin-bottom: 2rem;
        }

        .cart-item {
            display: flex;
            background-color: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px var(--shadow);
            border: 1px solid var(--border);
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background-color: var(--background);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-right: 1rem;
            border-radius: 4px;
            border: 1px solid var(--border);
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .cart-item-price {
            color: var(--secondary);
            font-weight: bold;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            margin-top: 0.5rem;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-input {
            width: 50px;
            text-align: center;
            margin: 0 0.5rem;
            padding: 0.3rem;
            border: 1px solid var(--border);
            border-radius: 4px;
            background-color: var(--card-bg);
            color: var(--text);
        }

        .cart-summary {
            background-color: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px var(--shadow);
            border: 1px solid var(--border);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            color: var(--text);
        }

        .summary-total {
            font-weight: bold;
            font-size: 1.2rem;
            border-top: 1px solid var(--border);
            padding-top: 1rem;
            color: var(--text);
        }

        /* –û—Ç–∑—ã–≤—ã */
        .reviews-section {
            margin-top: 2rem;
        }

        .review-form {
            background-color: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px var(--shadow);
            border: 1px solid var(--border);
        }

        .review-form h3 {
            margin-bottom: 1rem;
            color: var(--text);
        }

        .rating {
            display: flex;
            margin-bottom: 1rem;
        }

        .star {
            font-size: 1.5rem;
            color: var(--border);
            cursor: pointer;
            margin-right: 0.5rem;
            transition: color 0.2s;
        }

        .star.active {
            color: var(--accent);
        }

        .review-list {
            display: grid;
            gap: 1rem;
        }

        .review-item {
            background-color: var(--card-bg);
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px var(--shadow);
            border: 1px solid var(--border);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .review-author {
            font-weight: bold;
            color: var(--text);
        }

        .review-rating {
            color: var(--accent);
        }

        .review-text {
            color: var(--text-light);
        }

        /* –§–æ—Ä–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ */
        .auth-form {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--shadow);
            max-width: 500px;
            margin: 0 auto;
            border: 1px solid var(--border);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--text);
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text);
        }

        .form-toggle {
            text-align: center;
            margin-top: 1rem;
        }

        .form-toggle a {
            color: var(--secondary);
            cursor: pointer;
            text-decoration: underline;
        }

        /* –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å */
        .admin-panel {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--shadow);
            border: 1px solid var(--border);
        }

        .admin-tabs {
            display: flex;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
        }

        .admin-tab {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            color: var(--text);
        }

        .admin-tab.active {
            border-bottom: 3px solid var(--primary);
            font-weight: bold;
            color: var(--primary);
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
        }

        .data-table th, .data-table td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
            color: var(--text);
        }

        .data-table th {
            background-color: var(--secondary);
            color: white;
        }

        .action-btn {
            padding: 0.3rem 0.8rem;
            margin-right: 0.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .btn-edit {
            background-color: #3498db;
            color: white;
        }

        .btn-delete {
            background-color: #e74c3c;
            color: white;
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .close-modal {
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }

            nav ul {
                margin-top: 1rem;
                flex-wrap: wrap;
            }

            nav li {
                margin: 0.3rem;
            }

            nav a {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            .user-actions {
                margin-top: 1rem;
                width: 100%;
                justify-content: space-between;
            }

            .filters {
                flex-direction: column;
            }

            .cart-item {
                flex-direction: column;
            }

            .cart-item-image {
                margin-right: 0;
                margin-bottom: 1rem;
            }

            .banner-content {
                flex-direction: column;
                gap: 0.5rem;
            }

            .close-banner {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                margin-top: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .search-box input {
                width: 65%;
            }

            .logo {
                font-size: 1.5rem;
            }

            .logo-icon {
                width: 35px;
                height: 35px;
            }

            .crescent {
                width: 25px;
                height: 25px;
            }

            .crescent::after {
                width: 21px;
                height: 21px;
            }

            .bottle {
                width: 10px;
                height: 16px;
            }

            .bottle::before {
                width: 6px;
                height: 3px;
            }
        }

        /* –°–∫—Ä—ã—Ç–∞—è –∫–Ω–æ–ø–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ */
        .admin-access-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            z-index: 1000;
            font-size: 1.2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* –°–æ–æ–±—â–µ–Ω–∏—è */
        .message {
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 1rem;
            text-align: center;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* –û –Ω–∞—Å */
        .about-section {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--shadow);
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .about-section h2 {
            color: var(--text);
            margin-bottom: 1.5rem;
        }

        .about-section p {
            color: var(--text-light);
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .about-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .feature {
            text-align: center;
            padding: 1.5rem;
            background-color: var(--background);
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .feature i {
            font-size: 2.5rem;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        .feature h3 {
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .feature p {
            color: var(--text-light);
        }

        /* –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ */
        .product-form {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px var(--shadow);
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .form-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        .tags-input-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .tag-input {
            display: flex;
            align-items: center;
            background-color: var(--secondary);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .tag-input .remove-tag {
            margin-left: 0.5rem;
            cursor: pointer;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–û –Ω–∞—Å" */
        .about-page {
            max-width: 800px;
            margin: 0 auto;
        }

        .team-section {
            margin-top: 2rem;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .team-member {
            text-align: center;
            padding: 1.5rem;
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 2px 4px var(--shadow);
            border: 1px solid var(--border);
        }

        .team-member img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 1rem;
            border: 3px solid var(--accent);
        }

        .team-member h3 {
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .team-member p {
            color: var(--text-light);
        }

        /* –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ */
        .product-full .product-description {
            display: block;
            -webkit-line-clamp: unset;
            -webkit-box-orient: unset;
            overflow: visible;
            line-height: 1.6;
        }

        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
        .theme-dark .product-price {
            color: #FF6B35 !important;
            font-weight: bold;
        }

        .theme-dark .product-code {
            color: #CCCCCC !important;
        }
    </style>
</head>
<body class="theme-classic">
    <!-- –í–µ—Ä—Ö–Ω—è—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å (—á–µ–ª–∫–∞) -->
    <div class="top-banner" id="top-banner">
        <div class="container">
            <div class="banner-content">
                <div class="banner-text">
                    <i class="fas fa-truck"></i>
                    <span>–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç 5000 —Ä—É–±.</span>
                </div>
                <div class="banner-text">
                    <i class="fas fa-gift"></i>
                    <span>–ü–æ–¥–∞—Ä–æ–∫ –∫ –∫–∞–∂–¥–æ–º—É –∑–∞–∫–∞–∑—É</span>
                </div>
                <div class="banner-text">
                    <i class="fas fa-shield-alt"></i>
                    <span>–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞</span>
                </div>
            </div>
            <button class="close-banner" id="close-banner" title="–°–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <button class="show-banner-btn" id="show-banner" style="display: none;">
        <i class="fas fa-chevron-down"></i> –ê–∫—Ü–∏–∏
    </button>

    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <div class="crescent"></div>
                        <div class="bottle"></div>
                    </div>
                    <span>Smile Parfume</span>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link active" data-tab="home"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="#" class="nav-link" data-tab="catalog"><i class="fas fa-store"></i> –ö–∞—Ç–∞–ª–æ–≥</a></li>
                        <li><a href="#" class="nav-link" data-tab="cart"><i class="fas fa-shopping-cart"></i> –ö–æ—Ä–∑–∏–Ω–∞ <span id="cart-count">0</span></a></li>
                        <li><a href="#" class="nav-link" data-tab="about"><i class="fas fa-info-circle"></i> –û –Ω–∞—Å</a></li>
                        <li><a href="#" class="nav-link" data-tab="contact"><i class="fas fa-envelope"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    </ul>
                </nav>
                <div class="user-actions">
                    <div class="theme-selector">
                        <select id="theme-select">
                            <option value="classic">–ö–ª–∞—Å—Å–∏–∫–∞</option>
                            <option value="modern">–ú–æ–¥–µ—Ä–Ω</option>
                            <option value="dark">–¢—ë–º–Ω–∞—è</option>
                            <option value="nature">–ü—Ä–∏—Ä–æ–¥–∞</option>
                            <option value="luxury">–õ—é–∫—Å</option>
                            <option value="ocean">–û–∫–µ–∞–Ω</option>
                            <option value="vintage">–í–∏–Ω—Ç–∞–∂</option>
                            <option value="minimal">–ú–∏–Ω–∏–º–∞–ª–∏–∑–º</option>
                            <option value="royal">–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è</option>
                            <option value="sunset">–ó–∞–∫–∞—Ç</option>
                        </select>
                    </div>
                    <div class="auth-buttons">
                        <button id="auth-btn"><i class="fas fa-user"></i> –í–æ–π—Ç–∏</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <section id="home" class="tab-content active">
            <h2><i class="fas fa-star"></i> –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–æ–≤–∞—Ä—ã</h2>
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–∞—Ä—Ñ—é–º–∞...">
                    <button id="search-btn"><i class="fas fa-search"></i></button>
                </div>
            </div>
            <div class="products-grid" id="featured-products">
                <!-- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </section>

        <!-- –ö–∞—Ç–∞–ª–æ–≥ -->
        <section id="catalog" class="tab-content">
            <h2><i class="fas fa-list"></i> –ö–∞—Ç–∞–ª–æ–≥ –ø–∞—Ä—Ñ—é–º–µ—Ä–∏–∏</h2>
            <div class="filters">
                <div class="filter-group">
                    <label for="category-filter">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="category-filter">
                        <option value="all">–í—Å–µ</option>
                        <option value="women">–ñ–µ–Ω—Å–∫–∏–µ</option>
                        <option value="men">–ú—É–∂—Å–∫–∏–µ</option>
                        <option value="unisex">–£–Ω–∏—Å–µ–∫—Å</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="price-filter">–¶–µ–Ω–∞</label>
                    <select id="price-filter">
                        <option value="all">–õ—é–±–∞—è</option>
                        <option value="0-3000">–î–æ 3000 —Ä—É–±.</option>
                        <option value="3000-7000">3000-7000 —Ä—É–±.</option>
                        <option value="7000-15000">7000-15000 —Ä—É–±.</option>
                        <option value="15000+">–í—ã—à–µ 15000 —Ä—É–±.</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="tag-filter">–¢–µ–≥–∏</label>
                    <select id="tag-filter">
                        <option value="all">–í—Å–µ</option>
                        <!-- –¢–µ–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </select>
                </div>
            </div>
            <div class="products-grid" id="catalog-products">
                <!-- –¢–æ–≤–∞—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </section>

        <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
        <section id="cart" class="tab-content">
            <h2><i class="fas fa-shopping-cart"></i> –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
            <div class="cart-items" id="cart-items">
                <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
            <div class="cart-summary">
                <div class="summary-row">
                    <span>–¢–æ–≤–∞—Ä–æ–≤:</span>
                    <span id="total-items">0</span>
                </div>
                <div class="summary-row">
                    <span>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                    <span id="total-price">0 —Ä—É–±.</span>
                </div>
                <div class="summary-row summary-total">
                    <span>–ò—Ç–æ–≥–æ:</span>
                    <span id="final-price">0 —Ä—É–±.</span>
                </div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                    <i class="fas fa-credit-card"></i> –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                </button>
            </div>
        </section>

        <!-- –û –Ω–∞—Å -->
        <section id="about" class="tab-content">
            <div class="about-page">
                <h1><i class="fas fa-info-circle"></i> –û –∫–æ–º–ø–∞–Ω–∏–∏ Smile Parfume</h1>
                
                <div class="about-section">
                    <h2>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</h2>
                    <p>Smile Parfume - —ç—Ç–æ –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –±—É—Ç–∏–∫ –ø–∞—Ä—Ñ—é–º–µ—Ä–∏–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –≤ 2015 –≥–æ–¥—É. –ù–∞—à–∞ –º–∏—Å—Å–∏—è - –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Ä–∞–¥–æ—Å—Ç—å –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–º—É –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–±—Ä–∞–Ω–Ω—ã–µ –∞—Ä–æ–º–∞—Ç—ã.</p>
                    <p>–ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä—Ñ—é–º –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ –≤—ã–∑–≤–∞—Ç—å —É–ª—ã–±–∫—É - –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –º—ã –Ω–∞–∑–≤–∞–ª–∏ –Ω–∞—à—É –∫–æ–º–ø–∞–Ω–∏—é Smile Parfume.</p>
                </div>

                <div class="about-section">
                    <h2>–ù–∞—à–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è</h2>
                    <p>–ö–∞–∂–¥—ã–π –∞—Ä–æ–º–∞—Ç –≤ –Ω–∞—à–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–Ω —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏. –ú—ã —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞–µ–º —Ç–æ–ª—å–∫–æ —Å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–º–∏ –±—Ä–µ–Ω–¥–∞–º–∏, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã—Å–æ—á–∞–π—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —Ñ–ª–∞–∫–æ–Ω–∞.</p>
                    <p>–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–∞—Ä—Ñ—é–º–µ—Ä–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–ª–µ–¥–∏—Ç –∑–∞ –Ω–æ–≤–∏–Ω–∫–∞–º–∏ —Ä—ã–Ω–∫–∞ –∏ —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è–º–∏ –≤ –º–∏—Ä–µ –∞—Ä–æ–º–∞—Ç–æ–≤, —á—Ç–æ–±—ã –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–∞–º —Ç–æ–ª—å–∫–æ –ª—É—á—à–µ–µ.</p>
                </div>

                <div class="about-section">
                    <h2>–ù–∞—à–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏</h2>
                    <div class="about-features">
                        <div class="feature">
                            <i class="fas fa-award"></i>
                            <h3>–ö–∞—á–µ—Å—Ç–≤–æ</h3>
                            <p>–ú—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –∏ –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤—Å–µ–π –Ω–∞—à–µ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-hand-holding-heart"></i>
                            <h3>–ó–∞–±–æ—Ç–∞ –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö</h3>
                            <p>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–∞–∂–¥–æ–º—É –∫–ª–∏–µ–Ω—Ç—É –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-shield-alt"></i>
                            <h3>–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</h3>
                            <p>–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ —Å–ª—É—á–∞–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-shipping-fast"></i>
                            <h3>–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
                            <p>–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏ –≤ –∫—Ä–∞—Ç—á–∞–π—à–∏–µ —Å—Ä–æ–∫–∏</p>
                        </div>
                    </div>
                </div>

                <div class="about-section team-section">
                    <h2>–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞</h2>
                    <div class="team-grid">
                        <div class="team-member">
                            <div style="width: 100px; height: 100px; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; color: white; margin: 0 auto 1rem;">üë©</div>
                            <h3>–ê–Ω–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞</h3>
                            <p>–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å –∏ –ø–∞—Ä—Ñ—é–º–µ—Ä–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç</p>
                        </div>
                        <div class="team-member">
                            <div style="width: 100px; height: 100px; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; color: white; margin: 0 auto 1rem;">üë®</div>
                            <h3>–î–º–∏—Ç—Ä–∏–π –ò–≤–∞–Ω–æ–≤</h3>
                            <p>–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –∑–∞–∫—É–ø–∫–∞–º</p>
                        </div>
                        <div class="team-member">
                            <div style="width: 100px; height: 100px; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; color: white; margin: 0 auto 1rem;">üë©</div>
                            <h3>–ï–ª–µ–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞</h3>
                            <p>–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º—É —Å–µ—Ä–≤–∏—Å—É</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
        <section id="contact" class="tab-content">
            <h2><i class="fas fa-envelope"></i> –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</h2>
            <div class="contact-info">
                <p><i class="fas fa-phone"></i> –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67</p>
                <p><i class="fas fa-envelope"></i> Email: info@smileparfume.ru</p>
                <p><i class="fas fa-map-marker-alt"></i> –ê–¥—Ä–µ—Å: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü–∞—Ä—Ñ—é–º–µ—Ä–Ω–∞—è, –¥. 15</p>
                <p><i class="fas fa-clock"></i> –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: –ü–Ω-–ü—Ç: 9:00-21:00, –°–±-–í—Å: 10:00-20:00</p>
            </div>
            <div class="contact-form" style="margin-top: 2rem;">
                <h3>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h3>
                <form id="feedback-form">
                    <div class="form-group">
                        <label for="feedback-name">–í–∞—à–µ –∏–º—è</label>
                        <input type="text" id="feedback-name" required>
                    </div>
                    <div class="form-group">
                        <label for="feedback-email">–í–∞—à email</label>
                        <input type="email" id="feedback-email" required>
                    </div>
                    <div class="form-group">
                        <label for="feedback-message">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                        <textarea id="feedback-message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </form>
            </div>
        </section>
    </main>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="auth-modal-title">–í—Ö–æ–¥</h2>
                <span class="close-modal">&times;</span>
            </div>
            <form id="auth-form">
                <div class="form-group">
                    <label for="auth-email">Email</label>
                    <input type="email" id="auth-email" required>
                </div>
                <div class="form-group">
                    <label for="auth-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="auth-password" required>
                </div>
                <div id="auth-name-group" class="form-group" style="display: none;">
                    <label for="auth-name">–ò–º—è</label>
                    <input type="text" id="auth-name">
                </div>
                <div id="auth-confirm-password-group" class="form-group" style="display: none;">
                    <label for="auth-confirm-password">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
                    <input type="password" id="auth-confirm-password">
                </div>
                <div id="admin-key-group" class="form-group" style="display: none;">
                    <label for="admin-key">–ö–ª—é—á –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                    <input type="password" id="admin-key" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                </button>
            </form>
            <div class="form-toggle">
                <span id="auth-toggle">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</span>
            </div>
        </div>
    </div>

    <div id="product-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="product-modal-title">–¢–æ–≤–∞—Ä</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div id="product-modal-content" class="product-full">
                <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ç–æ–≤–∞—Ä–∞ -->
            </div>
        </div>
    </div>

    <div id="admin-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-crown"></i> –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="admin-panel">
                <div class="admin-tabs">
                    <div class="admin-tab active" data-admin-tab="products">–¢–æ–≤–∞—Ä—ã</div>
                    <div class="admin-tab" data-admin-tab="tags">–¢–µ–≥–∏</div>
                    <div class="admin-tab" data-admin-tab="reviews">–û—Ç–∑—ã–≤—ã</div>
                    <div class="admin-tab" data-admin-tab="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div>
                </div>
                <div id="admin-products" class="admin-content active">
                    <button class="btn btn-primary" id="add-product-btn">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
                    </button>
                    <div id="product-form-container" class="product-form" style="display: none;">
                        <h3 id="product-form-title">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h3>
                        <form id="product-form">
                            <input type="hidden" id="product-id">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="product-name">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                                    <input type="text" id="product-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="product-price">–¶–µ–Ω–∞ (—Ä—É–±.)</label>
                                    <input type="number" id="product-price" min="0" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="product-description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                <textarea id="product-description" rows="3" required></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="product-code">–ö–æ–¥ —Ç–æ–≤–∞—Ä–∞</label>
                                    <input type="text" id="product-code" required>
                                </div>
                                <div class="form-group">
                                    <label for="product-emoji">Emoji</label>
                                    <input type="text" id="product-emoji" maxlength="2">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="product-image">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                                <input type="text" id="product-image">
                            </div>
                            <div class="form-group">
                                <label>–¢–µ–≥–∏</label>
                                <div class="tags-input-container" id="product-tags-container">
                                    <!-- –¢–µ–≥–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                                <div class="form-row">
                                    <select id="available-tags">
                                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–≥</option>
                                    </select>
                                    <button type="button" class="btn btn-secondary" id="add-tag-btn">–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥</button>
                                </div>
                            </div>
                            <div class="form-row">
                                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button type="button" class="btn btn-secondary" id="cancel-product-btn">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </form>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–¶–µ–Ω–∞</th>
                                <th>–¢–µ–≥–∏</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="admin-products-table">
                            <!-- –¢–æ–≤–∞—Ä—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è -->
                        </tbody>
                    </table>
                </div>
                <div id="admin-tags" class="admin-content">
                    <button class="btn btn-primary" id="create-tag-btn">
                        <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å —Ç–µ–≥
                    </button>
                    <div id="tag-form-container" class="product-form" style="display: none; margin-top: 1rem;">
                        <h3 id="tag-form-title">–°–æ–∑–¥–∞—Ç—å —Ç–µ–≥</h3>
                        <form id="tag-form">
                            <input type="hidden" id="tag-id">
                            <div class="form-group">
                                <label for="tag-name">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞</label>
                                <input type="text" id="tag-name" required>
                            </div>
                            <div class="form-row">
                                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button type="button" class="btn btn-secondary" id="cancel-tag-btn">–û—Ç–º–µ–Ω–∞</button>
                            </div>
                        </form>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>–¢–µ–≥</th>
                                <th>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="admin-tags-table">
                            <!-- –¢–µ–≥–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è -->
                        </tbody>
                    </table>
                </div>
                <div id="admin-reviews" class="admin-content">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>–¢–æ–≤–∞—Ä</th>
                                <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                <th>–†–µ–π—Ç–∏–Ω–≥</th>
                                <th>–¢–µ–∫—Å—Ç</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="admin-reviews-table">
                            <!-- –û—Ç–∑—ã–≤—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è -->
                        </tbody>
                    </table>
                </div>
                <div id="admin-users" class="admin-content">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>–ò–º—è</th>
                                <th>Email</th>
                                <th>–†–æ–ª—å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="admin-users-table">
                            <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç–∞—è –∫–Ω–æ–ø–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
    <button class="admin-access-btn" title="–î–æ—Å—Ç—É–ø –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞">
        <i class="fas fa-key"></i>
    </button>

    <!-- Firebase SDK –∏ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    
    <script>
        // === –í–ê–®–ê –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø FIREBASE (–ó–ê–ú–ï–ù–ò–¢–ï –≠–¢–ò –ó–ù–ê–ß–ï–ù–ò–Ø!) ===
        const firebaseConfig = {
            apiKey: "–í–ê–®_API_KEY",
            authDomain: "–í–ê–®_–ü–†–û–ï–ö–¢.firebaseapp.com",
            databaseURL: "https://–í–ê–®_–ü–†–û–ï–ö–¢-default-rtdb.firebaseio.com",
            projectId: "–í–ê–®_–ü–†–û–ï–ö–¢",
            storageBucket: "–í–ê–®_–ü–†–û–ï–ö–¢.appspot.com",
            messagingSenderId: "–í–ê–®_SENDER_ID",
            appId: "–í–ê–®_APP_ID"
        };

        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø FIREBASE ===
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const auth = firebase.auth();

        const APP_CONFIG = {
            ADMIN_KEYS: [
                "SMILE-ADMIN-2024-001",
                "PERFUME-MASTER-002", 
                "SMILE-ACCESS-003",
                "LUXURY-CONTROL-004",
                "SCENT-MANAGER-005",
                "FRAGRANCE-ADMIN-006",
                "PREMIUM-ACCESS-007",
                "BOSS-MODE-008",
                "MASTER-KEY-009",
                "SMILE-SUPER-010"
            ],
            APP_NAME: "Smile Parfume"
        };

        const state = {
            currentUser: null,
            products: [],
            cart: [],
            tags: [],
            reviews: [],
            users: [],
            currentTheme: 'classic',
            editingProduct: null,
            editingTag: null,
            bannerHidden: false
        };

        // === –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ê–ë–û–¢–´ –° FIREBASE ===

        async function loadDataFromFirebase() {
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
                const [productsSnapshot, tagsSnapshot, reviewsSnapshot, usersSnapshot] = await Promise.all([
                    database.ref('products').once('value'),
                    database.ref('tags').once('value'),
                    database.ref('reviews').once('value'),
                    database.ref('users').once('value')
                ]);

                // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Firebase –≤ –º–∞—Å—Å–∏–≤—ã
                state.products = productsSnapshot.exists() ? 
                    Object.entries(productsSnapshot.val()).map(([id, data]) => ({ id, ...data })) : [];
                
                state.tags = tagsSnapshot.exists() ? 
                    Object.entries(tagsSnapshot.val()).map(([id, data]) => ({ id, ...data })) : [];
                
                state.reviews = reviewsSnapshot.exists() ? 
                    Object.entries(reviewsSnapshot.val()).map(([id, data]) => ({ id, ...data })) : [];
                
                state.users = usersSnapshot.exists() ? 
                    Object.entries(usersSnapshot.val()).map(([id, data]) => ({ id, ...data })) : [];

                // –ï—Å–ª–∏ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤, –∑–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                if (state.products.length === 0) {
                    await loadDefaultProducts();
                }

                console.log('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ Firebase');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Firebase:', error);
                // –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç: –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
                loadFromLocalStorage();
            }
        }

        async function saveProductToFirebase(product) {
            try {
                const productData = { ...product };
                delete productData.id; // –£–¥–∞–ª—è–µ–º ID –∏–∑ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–∞–ø–∏—Å–∏
                
                if (product.id && !product.id.startsWith('-')) {
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞
                    await database.ref(`products/${product.id}`).update(productData);
                    return product.id;
                } else {
                    // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
                    const newProductRef = await database.ref('products').push(productData);
                    return newProductRef.key;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞:', error);
                throw error;
            }
        }

        async function saveTagToFirebase(tag) {
            try {
                const tagData = { ...tag };
                delete tagData.id;
                
                if (tag.id) {
                    await database.ref(`tags/${tag.id}`).update(tagData);
                    return tag.id;
                } else {
                    const newTagRef = await database.ref('tags').push(tagData);
                    return newTagRef.key;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–≥–∞:', error);
                throw error;
            }
        }

        async function saveReviewToFirebase(review) {
            try {
                const newReviewRef = await database.ref('reviews').push(review);
                return newReviewRef.key;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞:', error);
                throw error;
            }
        }

        async function saveUserToFirebase(user) {
            try {
                if (user.id) {
                    await database.ref(`users/${user.id}`).update(user);
                    return user.id;
                } else {
                    const newUserRef = await database.ref('users').push(user);
                    return newUserRef.key;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
                throw error;
            }
        }

        async function saveCartToFirebase() {
            if (state.currentUser && state.currentUser.uid) {
                try {
                    await database.ref(`carts/${state.currentUser.uid}`).set(state.cart);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã:', error);
                }
            }
        }

        async function handleFirebaseAuth(email, password, name = null, isRegistration = false) {
            try {
                let userCredential;
                
                if (isRegistration) {
                    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    userCredential = await auth.createUserWithEmailAndPassword(email, password);
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
                    await database.ref(`users/${userCredential.user.uid}`).set({
                        name: name,
                        email: email,
                        role: 'user',
                        createdAt: new Date().toISOString()
                    });
                    
                } else {
                    // –í—Ö–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    userCredential = await auth.signInWithEmailAndPassword(email, password);
                }
                
                return userCredential.user;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:', error);
                throw error;
            }
        }

        // === –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ===

        document.addEventListener('DOMContentLoaded', async function() {
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
            auth.onAuthStateChanged(async (user) => {
                if (user) {
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–∞–∑—ã
                    const userSnapshot = await database.ref(`users/${user.uid}`).once('value');
                    const userData = userSnapshot.val();
                    
                    state.currentUser = {
                        uid: user.uid,
                        email: user.email,
                        ...userData
                    };
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    const cartSnapshot = await database.ref(`carts/${user.uid}`).once('value');
                    state.cart = cartSnapshot.exists() ? Object.values(cartSnapshot.val()) : [];
                    
                    updateCartDisplay();
                } else {
                    state.currentUser = null;
                    state.cart = [];
                }
                
                updateAuthButton();
            });

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            await loadDataFromFirebase();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            setupEventListeners();
            loadInitialData();
            updateUI();
        });

        // === –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ===

        function loadFromLocalStorage() {
            // –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç: –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
            const savedProducts = localStorage.getItem('smileProducts');
            const savedUsers = localStorage.getItem('smileUsers');
            const savedReviews = localStorage.getItem('smileReviews');
            const savedTags = localStorage.getItem('smileTags');
            const savedCart = localStorage.getItem('smileCart');
            const savedTheme = localStorage.getItem('smileTheme');

            if (savedProducts) state.products = JSON.parse(savedProducts);
            if (savedUsers) state.users = JSON.parse(savedUsers);
            if (savedReviews) state.reviews = JSON.parse(savedReviews);
            if (savedTags) state.tags = JSON.parse(savedTags);
            if (savedCart) state.cart = JSON.parse(savedCart);
            if (savedTheme) {
                state.currentTheme = savedTheme;
                document.getElementById('theme-select').value = savedTheme;
                document.body.className = `theme-${savedTheme}`;
            }
        }

        async function loadDefaultProducts() {
            const defaultProducts = [
                {
                    name: "Chanel No. 5",
                    price: 7500,
                    description: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –∂–µ–Ω—Å–∫–∏–π –∞—Ä–æ–º–∞—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤ 1921 –≥–æ–¥—É. –°–æ—á–µ—Ç–∞–µ—Ç –Ω–æ—Ç—ã –∏–ª–∞–Ω–≥-–∏–ª–∞–Ω–≥–∞, –±–µ—Ä–≥–∞–º–æ—Ç–∞ –∏ —Å–∞–Ω–¥–∞–ª–∞. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –≤–µ—á–µ—Ä–Ω–∏—Ö –≤—ã—Ö–æ–¥–æ–≤ –∏ –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤.",
                    tags: ["women", "classic", "floral", "evening", "luxury"],
                    code: "CHN-001",
                    image: "",
                    emoji: "üåπ",
                    rating: 4.8,
                    reviewsCount: 0
                },
                {
                    name: "Dior Sauvage",
                    price: 6800,
                    description: "–°–º–µ–ª—ã–π –º—É–∂—Å–∫–æ–π –∞—Ä–æ–º–∞—Ç, –≤–æ–ø–ª–æ—â–∞—é—â–∏–π –¥—É—Ö —Å–≤–æ–±–æ–¥—ã. –ù–æ—Ç—ã –ø–µ—Ä—Ü–∞, –±–µ—Ä–≥–∞–º–æ—Ç–∞ –∏ –∞–º–±—Ä—ã —Å–æ–∑–¥–∞—é—Ç –º–æ—â–Ω—ã–π –∏ –ø—Ä–∏—Ç—è–≥–∞—Ç–µ–ª—å–Ω—ã–π –æ–±—Ä–∞–∑.",
                    tags: ["men", "fresh", "woody", "day", "popular"],
                    code: "DIR-002",
                    image: "",
                    emoji: "üèîÔ∏è",
                    rating: 4.7,
                    reviewsCount: 0
                },
                {
                    name: "Jo Malone Wood Sage",
                    price: 9200,
                    description: "–£—Ç–æ–Ω—á–µ–Ω–Ω—ã–π —É–Ω–∏—Å–µ–∫—Å –ø–∞—Ä—Ñ—é–º —Å –∞–∫–∫–æ—Ä–¥–∞–º–∏ —à–∞–ª—Ñ–µ—è, –º–æ—Ä—Å–∫–æ–π —Å–æ–ª–∏ –∏ –≥—Ä–µ–π–ø—Ñ—Ä—É—Ç–∞. –°–≤–µ–∂–∏–π –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –∞—Ä–æ–º–∞—Ç –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.",
                    tags: ["unisex", "woody", "fresh", "day", "minimalist"],
                    code: "JML-003",
                    image: "",
                    emoji: "üåø",
                    rating: 4.6,
                    reviewsCount: 0
                }
            ];

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–∂–¥—ã–π –ø—Ä–æ–¥—É–∫—Ç –≤ Firebase
            for (const product of defaultProducts) {
                await saveProductToFirebase(product);
            }
            
            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
            await loadDataFromFirebase();
        }

        // === –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (–û–ë–ù–û–í–õ–ï–ù–ù–´–ï –î–õ–Ø FIREBASE) ===

        async function addToCart(productId) {
            const product = state.products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = state.cart.find(item => item.productId === productId);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                state.cart.push({
                    productId: productId,
                    quantity: 1,
                    name: product.name,
                    price: product.price,
                    image: product.image,
                    emoji: product.emoji
                });
            }

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Firebase
            await saveCartToFirebase();
            
            // –¢–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
            localStorage.setItem('smileCart', JSON.stringify(state.cart));
            
            updateCartCount();
            updateCartDisplay();
            showMessage(`–¢–æ–≤–∞—Ä "${product.name}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!`, 'success');
        }

        async function updateCartItemQuantity(productId, newQuantity) {
            if (newQuantity < 1) {
                removeFromCart(productId);
                return;
            }

            const item = state.cart.find(item => item.productId === productId);
            if (item) {
                item.quantity = newQuantity;
                await saveCartToFirebase();
                localStorage.setItem('smileCart', JSON.stringify(state.cart));
                updateCartCount();
                updateCartDisplay();
            }
        }

        async function removeFromCart(productId) {
            state.cart = state.cart.filter(item => item.productId !== productId);
            await saveCartToFirebase();
            localStorage.setItem('smileCart', JSON.stringify(state.cart));
            updateCartCount();
            updateCartDisplay();
        }

        async function submitReview(productId) {
            if (!state.currentUser) {
                showMessage('–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤', 'error');
                return;
            }

            const ratingElements = document.querySelectorAll('#review-rating .star.active');
            const rating = ratingElements.length;
            const text = document.getElementById('review-text').value;

            if (rating === 0) {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –æ—Ü–µ–Ω–∫—É', 'error');
                return;
            }

            if (!text.trim()) {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –æ—Ç–∑—ã–≤', 'error');
                return;
            }

            const newReview = {
                productId: productId,
                userId: state.currentUser.uid,
                userName: state.currentUser.name,
                rating: rating,
                text: text,
                date: new Date().toISOString()
            };

            try {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Firebase
                const reviewId = await saveReviewToFirebase(newReview);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                state.reviews.push({ ...newReview, id: reviewId });
                
                showMessage('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤!', 'success');
                document.getElementById('product-modal').classList.remove('active');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞:', error);
                showMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞', 'error');
            }
        }

        async function saveProduct() {
            const id = document.getElementById('product-id').value;
            const name = document.getElementById('product-name').value;
            const price = parseInt(document.getElementById('product-price').value);
            const description = document.getElementById('product-description').value;
            const code = document.getElementById('product-code').value;
            const emoji = document.getElementById('product-emoji').value;
            const image = document.getElementById('product-image').value;
            
            // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–≥–∏ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
            const tags = [];
            document.querySelectorAll('#product-tags-container .tag-input').forEach(tagEl => {
                tags.push(tagEl.textContent.replace('√ó', '').trim());
            });
            
            const productData = {
                name,
                price,
                description,
                code,
                emoji,
                image,
                tags,
                rating: 4.5,
                reviewsCount: 0
            };
            
            try {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Firebase
                const productId = await saveProductToFirebase({
                    ...productData,
                    id: id || null
                });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                if (state.editingProduct) {
                    const index = state.products.findIndex(p => p.id === state.editingProduct.id);
                    if (index !== -1) {
                        state.products[index] = { ...productData, id: productId };
                    }
                } else {
                    state.products.push({ ...productData, id: productId });
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º UI
                loadAdminData();
                loadInitialData();
                hideProductForm();
                showMessage('–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞:', error);
                showMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
            }
        }

        // === –í–ê–® –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô –ö–û–î (—Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏) ===

        function setupEventListeners() {
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    switchTab(this.dataset.tab);
                });
            });

            // –°–º–µ–Ω–∞ —Ç–µ–º—ã
            document.getElementById('theme-select').addEventListener('change', function() {
                changeTheme(this.value);
            });

            // –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞
            document.getElementById('auth-btn').addEventListener('click', function() {
                if (state.currentUser) {
                    if (state.currentUser.role === 'admin') {
                        openAdminPanel();
                    } else {
                        logout();
                    }
                } else {
                    openAuthModal('login');
                }
            });

            // –ö–Ω–æ–ø–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
            document.querySelector('.admin-access-btn').addEventListener('click', function() {
                openAdminAuthModal();
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            document.querySelectorAll('.close-modal').forEach(closeBtn => {
                closeBtn.addEventListener('click', function() {
                    this.closest('.modal').classList.remove('active');
                });
            });

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—Ö–æ–¥–æ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
            document.getElementById('auth-toggle').addEventListener('click', function() {
                const isLogin = document.getElementById('auth-modal-title').textContent === '–í—Ö–æ–¥';
                if (isLogin) {
                    openAuthModal('register');
                } else {
                    openAuthModal('login');
                }
            });

            // –§–æ—Ä–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–ª—è Firebase)
            document.getElementById('auth-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const email = document.getElementById('auth-email').value;
                const password = document.getElementById('auth-password').value;
                const name = document.getElementById('auth-name').value;
                const confirmPassword = document.getElementById('auth-confirm-password').value;
                const adminKey = document.getElementById('admin-key').value;
                const isLogin = document.getElementById('auth-modal-title').textContent === '–í—Ö–æ–¥';

                try {
                    if (isLogin) {
                        // –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Firebase
                        const user = await handleFirebaseAuth(email, password, null, false);
                        showMessage(`–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.email}!`, 'success');
                    } else {
                        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Firebase
                        if (password !== confirmPassword) {
                            showMessage('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!', 'error');
                            return;
                        }
                        
                        const user = await handleFirebaseAuth(email, password, name, true);
                        
                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ –∫–ª—é—á–∞
                        if (adminKey && validateAdminKey(adminKey)) {
                            await database.ref(`users/${user.uid}/role`).set('admin');
                            state.currentUser.role = 'admin';
                        }
                        
                        showMessage('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!', 'success');
                    }
                    
                    document.getElementById('auth-modal').classList.remove('active');
                    updateAuthButton();
                    
                } catch (error) {
                    showMessage(error.message, 'error');
                }
            });

            // –§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
            document.getElementById('feedback-form').addEventListener('submit', function(e) {
                e.preventDefault();
                handleFeedback();
            });

            // –ü–æ–∏—Å–∫
            document.getElementById('search-btn').addEventListener('click', performSearch);
            document.getElementById('search-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') performSearch();
            });

            // –§–∏–ª—å—Ç—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–∞
            document.getElementById('category-filter').addEventListener('change', filterProducts);
            document.getElementById('price-filter').addEventListener('change', filterProducts);
            document.getElementById('tag-filter').addEventListener('change', filterProducts);

            // –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    switchAdminTab(this.dataset.adminTab);
                });
            });

            // –§–æ—Ä–º—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
            document.getElementById('add-product-btn').addEventListener('click', function() {
                showProductForm();
            });

            document.getElementById('cancel-product-btn').addEventListener('click', function() {
                hideProductForm();
            });

            document.getElementById('product-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveProduct();
            });

            document.getElementById('create-tag-btn').addEventListener('click', function() {
                showTagForm();
            });

            document.getElementById('cancel-tag-btn').addEventListener('click', function() {
                hideTagForm();
            });

            document.getElementById('tag-form').addEventListener('submit', function(e) {
                e.preventDefault();
                saveTag();
            });

            document.getElementById('add-tag-btn').addEventListener('click', function() {
                addTagToProduct();
            });

            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª—å—é (—á–µ–ª–∫–æ–π)
            document.getElementById('close-banner').addEventListener('click', function() {
                hideTopBanner();
            });

            document.getElementById('show-banner').addEventListener('click', function() {
                showTopBanner();
            });

            // –ö–ª–∏–∫ –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.classList.remove('active');
                }
            });
        }

        // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–ª—è Firebase)
        async function logout() {
            try {
                await auth.signOut();
                state.currentUser = null;
                state.cart = [];
                updateAuthButton();
                updateCartDisplay();
                showMessage('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'success');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞:', error);
                showMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'error');
            }
        }

        // ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –≤–∞—à–µ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

        // === –ù–ê–ß–ê–õ–û –í–ê–®–ï–ì–û –ò–°–•–û–î–ù–û–ì–û –ö–û–î–ê (—Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏) ===

        function initializeApp() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage (–∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)
            const savedTheme = localStorage.getItem('smileTheme');
            const savedBannerHidden = localStorage.getItem('smileBannerHidden');

            if (savedTheme) {
                state.currentTheme = savedTheme;
                document.getElementById('theme-select').value = savedTheme;
                document.body.className = `theme-${savedTheme}`;
            }
            if (savedBannerHidden) {
                state.bannerHidden = JSON.parse(savedBannerHidden);
                if (state.bannerHidden) {
                    document.getElementById('top-banner').classList.add('hidden');
                    document.getElementById('show-banner').style.display = 'block';
                }
            }
        }

        function loadInitialData() {
            displayProducts(state.products, 'featured-products');
            displayProducts(state.products, 'catalog-products');
            updateCartDisplay();
            populateTagFilter();
            populateAvailableTags();
        }

        function updateUI() {
            updateCartCount();
            updateAuthButton();
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });

            document.getElementById(tabName).classList.add('active');
            document.querySelector(`.nav-link[data-tab="${tabName}"]`).classList.add('active');

            if (tabName === 'cart') {
                updateCartDisplay();
            }
        }

        function changeTheme(themeName) {
            state.currentTheme = themeName;
            document.body.className = `theme-${themeName}`;
            localStorage.setItem('smileTheme', themeName);
        }

        function openAuthModal(mode) {
            const modal = document.getElementById('auth-modal');
            const title = document.getElementById('auth-modal-title');
            const toggle = document.getElementById('auth-toggle');
            const nameGroup = document.getElementById('auth-name-group');
            const confirmPasswordGroup = document.getElementById('auth-confirm-password-group');
            const adminKeyGroup = document.getElementById('admin-key-group');

            if (mode === 'login') {
                title.textContent = '–í—Ö–æ–¥';
                toggle.textContent = '–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å';
                nameGroup.style.display = 'none';
                confirmPasswordGroup.style.display = 'none';
                adminKeyGroup.style.display = 'none';
            } else {
                title.textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è';
                toggle.textContent = '–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π–¥–∏—Ç–µ';
                nameGroup.style.display = 'block';
                confirmPasswordGroup.style.display = 'block';
                adminKeyGroup.style.display = 'block';
            }

            modal.classList.add('active');
        }

        function openAdminAuthModal() {
            const modal = document.getElementById('auth-modal');
            const title = document.getElementById('auth-modal-title');
            const toggle = document.getElementById('auth-toggle');
            const nameGroup = document.getElementById('auth-name-group');
            const confirmPasswordGroup = document.getElementById('auth-confirm-password-group');
            const adminKeyGroup = document.getElementById('admin-key-group');

            title.textContent = '–í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞';
            toggle.style.display = 'none';
            nameGroup.style.display = 'block';
            confirmPasswordGroup.style.display = 'block';
            adminKeyGroup.style.display = 'block';
            
            modal.classList.add('active');
        }

        function validateAdminKey(key) {
            return APP_CONFIG.ADMIN_KEYS.includes(key);
        }

        function updateAuthButton() {
            const authBtn = document.getElementById('auth-btn');
            if (state.currentUser) {
                if (state.currentUser.role === 'admin') {
                    authBtn.innerHTML = '<i class="fas fa-crown"></i> –ê–¥–º–∏–Ω';
                } else {
                    authBtn.innerHTML = '<i class="fas fa-user"></i> –í—ã–π—Ç–∏';
                }
            } else {
                authBtn.innerHTML = '<i class="fas fa-user"></i> –í–æ–π—Ç–∏';
            }
        }

        function openAdminPanel() {
            if (state.currentUser && state.currentUser.role === 'admin') {
                document.getElementById('admin-modal').classList.add('active');
                loadAdminData();
            } else {
                showMessage('–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏!', 'error');
            }
        }

        function loadAdminData() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
            const productsTable = document.getElementById('admin-products-table');
            productsTable.innerHTML = state.products.map(product => `
                <tr>
                    <td>${product.name}</td>
                    <td>${product.price} —Ä—É–±.</td>
                    <td>${product.tags.join(', ')}</td>
                    <td>
                        <button class="action-btn btn-edit" onclick="editProduct('${product.id}')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="action-btn btn-delete" onclick="deleteProduct('${product.id}')">–£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                </tr>
            `).join('');

            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–≥–æ–≤
            const tagsTable = document.getElementById('admin-tags-table');
            tagsTable.innerHTML = state.tags.map(tag => `
                <tr>
                    <td>${tag.name}</td>
                    <td>${tag.count || 0}</td>
                    <td>
                        <button class="action-btn btn-edit" onclick="editTag('${tag.id}')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="action-btn btn-delete" onclick="deleteTag('${tag.id}')">–£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                </tr>
            `).join('');

            // –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤
            const reviewsTable = document.getElementById('admin-reviews-table');
            reviewsTable.innerHTML = state.reviews.map(review => `
                <tr>
                    <td>${getProductName(review.productId)}</td>
                    <td>${review.userName || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π'}</td>
                    <td>${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5-review.rating)}</td>
                    <td>${review.text.substring(0, 50)}...</td>
                    <td>
                        <button class="action-btn btn-edit" onclick="editReview('${review.id}')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="action-btn btn-delete" onclick="deleteReview('${review.id}')">–£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                </tr>
            `).join('');

            // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            const usersTable = document.getElementById('admin-users-table');
            usersTable.innerHTML = state.users.map(user => `
                <tr>
                    <td>${user.name}</td>
                    <td>${user.email}</td>
                    <td>${user.role}</td>
                    <td>
                        <button class="action-btn btn-edit" onclick="editUser('${user.id}')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="action-btn btn-delete" onclick="deleteUser('${user.id}')">–£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                </tr>
            `).join('');
        }

        function switchAdminTab(tabName) {
            document.querySelectorAll('.admin-content').forEach(tab => {
                tab.classList.remove('active');
            });

            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            document.getElementById(`admin-${tabName}`).classList.add('active');
            document.querySelector(`.admin-tab[data-admin-tab="${tabName}"]`).classList.add('active');
        }

        function showProductForm(product = null) {
            const formContainer = document.getElementById('product-form-container');
            const formTitle = document.getElementById('product-form-title');
            const form = document.getElementById('product-form');
            
            if (product) {
                formTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä';
                fillProductForm(product);
            } else {
                formTitle.textContent = '–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä';
                form.reset();
                document.getElementById('product-tags-container').innerHTML = '';
                document.getElementById('product-id').value = '';
            }
            
            formContainer.style.display = 'block';
        }

        function hideProductForm() {
            document.getElementById('product-form-container').style.display = 'none';
            state.editingProduct = null;
        }

        function fillProductForm(product) {
            document.getElementById('product-id').value = product.id;
            document.getElementById('product-name').value = product.name;
            document.getElementById('product-price').value = product.price;
            document.getElementById('product-description').value = product.description;
            document.getElementById('product-code').value = product.code;
            document.getElementById('product-emoji').value = product.emoji || '';
            document.getElementById('product-image').value = product.image || '';
            
            const tagsContainer = document.getElementById('product-tags-container');
            tagsContainer.innerHTML = '';
            product.tags.forEach(tag => {
                const tagElement = document.createElement('div');
                tagElement.className = 'tag-input';
                tagElement.innerHTML = `
                    ${tag}
                    <span class="remove-tag" onclick="removeProductTag('${tag}')">√ó</span>
                `;
                tagsContainer.appendChild(tagElement);
            });
            
            state.editingProduct = product;
        }

        function showTagForm(tag = null) {
            const formContainer = document.getElementById('tag-form-container');
            const formTitle = document.getElementById('tag-form-title');
            const form = document.getElementById('tag-form');
            
            if (tag) {
                formTitle.textContent = '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–≥';
                fillTagForm(tag);
            } else {
                formTitle.textContent = '–°–æ–∑–¥–∞—Ç—å —Ç–µ–≥';
                form.reset();
                document.getElementById('tag-id').value = '';
            }
            
            formContainer.style.display = 'block';
        }

        function hideTagForm() {
            document.getElementById('tag-form-container').style.display = 'none';
            state.editingTag = null;
        }

        function fillTagForm(tag) {
            document.getElementById('tag-id').value = tag.id;
            document.getElementById('tag-name').value = tag.name;
            state.editingTag = tag;
        }

        async function saveTag() {
            const id = document.getElementById('tag-id').value;
            const name = document.getElementById('tag-name').value;
            
            try {
                let tagId;
                if (state.editingTag) {
                    tagId = await saveTagToFirebase({
                        id: id,
                        name: name,
                        count: state.editingTag.count || 0
                    });
                    
                    const index = state.tags.findIndex(t => t.id === state.editingTag.id);
                    if (index !== -1) {
                        state.tags[index].name = name;
                    }
                } else {
                    const newTag = {
                        name: name,
                        count: 0
                    };
                    
                    tagId = await saveTagToFirebase(newTag);
                    state.tags.push({ ...newTag, id: tagId });
                }
                
                loadAdminData();
                populateAvailableTags();
                hideTagForm();
                showMessage('–¢–µ–≥ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–≥–∞:', error);
                showMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ç–µ–≥–∞', 'error');
            }
        }

        function addTagToProduct() {
            const tagSelect = document.getElementById('available-tags');
            const selectedTag = tagSelect.value;
            
            if (!selectedTag) {
                showMessage('–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–≥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è', 'error');
                return;
            }
            
            const tagsContainer = document.getElementById('product-tags-container');
            
            const existingTags = Array.from(tagsContainer.querySelectorAll('.tag-input')).map(el => 
                el.textContent.replace('√ó', '').trim()
            );
            
            if (existingTags.includes(selectedTag)) {
                showMessage('–≠—Ç–æ—Ç —Ç–µ–≥ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω', 'error');
                return;
            }
            
            const tagElement = document.createElement('div');
            tagElement.className = 'tag-input';
            tagElement.innerHTML = `
                ${selectedTag}
                <span class="remove-tag" onclick="removeProductTag('${selectedTag}')">√ó</span>
            `;
            tagsContainer.appendChild(tagElement);
            
            tagSelect.value = '';
        }

        function removeProductTag(tagName) {
            const tagsContainer = document.getElementById('product-tags-container');
            const tagElements = tagsContainer.querySelectorAll('.tag-input');
            
            tagElements.forEach(el => {
                if (el.textContent.replace('√ó', '').trim() === tagName) {
                    el.remove();
                }
            });
        }

        function populateAvailableTags() {
            const tagSelect = document.getElementById('available-tags');
            tagSelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–≥</option>';
            
            state.tags.forEach(tag => {
                const option = document.createElement('option');
                option.value = tag.name;
                option.textContent = tag.name;
                tagSelect.appendChild(option);
            });
        }

        function displayProducts(products, containerId) {
            const container = document.getElementById(containerId);
            if (products.length === 0) {
                container.innerHTML = '<p style="text-align: center; grid-column: 1/-1; padding: 2rem; color: var(--text-light)">–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }
            
            container.innerHTML = products.map(product => `
                <div class="product-card">
                    <div class="product-image-container">
                        ${product.image ? 
                            `<img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">` : 
                            ''
                        }
                        <div class="product-emoji-fallback" style="${product.image ? 'display: none;' : ''}">
                            ${product.emoji}
                        </div>
                        <div class="product-badge">-10%</div>
                    </div>
                    <div class="product-info">
                        <div class="product-title">${product.name}</div>
                        <div class="product-price">${product.price} —Ä—É–±.</div>
                        <div class="product-code">–ö–æ–¥: ${product.code}</div>
                        <div class="product-rating">
                            <span class="rating-stars">${'‚òÖ'.repeat(Math.floor(product.rating))}${'‚òÜ'.repeat(5-Math.floor(product.rating))}</span>
                            <span class="rating-value">${product.rating.toFixed(1)}</span>
                        </div>
                        <div class="product-description">${product.description}</div>
                        <div class="product-tags">
                            ${product.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                        <div class="product-actions">
                            <button class="btn btn-primary" onclick="addToCart('${product.id}')">
                                <i class="fas fa-shopping-cart"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                            </button>
                            <button class="btn btn-secondary" onclick="openProductModal('${product.id}')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function updateCartCount() {
            const totalItems = state.cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count').textContent = totalItems;
        }

        function updateCartDisplay() {
            const cartItemsContainer = document.getElementById('cart-items');
            const totalItemsElement = document.getElementById('total-items');
            const totalPriceElement = document.getElementById('total-price');
            const finalPriceElement = document.getElementById('final-price');

            if (state.cart.length === 0) {
                cartItemsContainer.innerHTML = '<p style="text-align: center; color: var(--text-light)">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
                totalItemsElement.textContent = '0';
                totalPriceElement.textContent = '0 —Ä—É–±.';
                finalPriceElement.textContent = '0 —Ä—É–±.';
                return;
            }

            cartItemsContainer.innerHTML = state.cart.map(item => `
                <div class="cart-item">
                    <div class="cart-item-image">
                        ${item.image ? 
                            `<img src="${item.image}" alt="${item.name}" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">` : 
                            ''
                        }
                        <div style="${item.image ? 'display: none;' : 'display: flex; align-items: center; justify-content: center; font-size: 2rem; width: 100%; height: 100%;'}">
                            ${item.emoji}
                        </div>
                    </div>
                    <div class="cart-item-details">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">${item.price} —Ä—É–±.</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn" onclick="updateCartItemQuantity('${item.productId}', ${item.quantity - 1})">-</button>
                            <input type="number" class="quantity-input" value="${item.quantity}" min="1" onchange="updateCartItemQuantity('${item.productId}', parseInt(this.value))">
                            <button class="quantity-btn" onclick="updateCartItemQuantity('${item.productId}', ${item.quantity + 1})">+</button>
                            <button class="btn btn-secondary" style="margin-left: 1rem;" onclick="removeFromCart('${item.productId}')">–£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            `).join('');

            const totalItems = state.cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = state.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            totalItemsElement.textContent = totalItems;
            totalPriceElement.textContent = `${totalPrice} —Ä—É–±.`;
            finalPriceElement.textContent = `${totalPrice} —Ä—É–±.`;
        }

        function openProductModal(productId) {
            const product = state.products.find(p => p.id === productId);
            if (!product) return;

            const modal = document.getElementById('product-modal');
            const title = document.getElementById('product-modal-title');
            const content = document.getElementById('product-modal-content');

            title.textContent = product.name;

            const productReviews = state.reviews.filter(r => r.productId === productId);
            const averageRating = productReviews.length > 0 
                ? productReviews.reduce((sum, r) => sum + r.rating, 0) / productReviews.length 
                : product.rating;

            content.innerHTML = `
                <div class="product-image-container" style="height: 300px; margin-bottom: 1rem;">
                    ${product.image ? 
                        `<img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">` : 
                        ''
                    }
                    <div class="product-emoji-fallback" style="${product.image ? 'display: none;' : ''}">
                        ${product.emoji}
                    </div>
                </div>
                <div class="product-info">
                    <div class="product-title" style="font-size: 1.5rem;">${product.name}</div>
                    <div class="product-price" style="font-size: 1.3rem;">${product.price} —Ä—É–±.</div>
                    <div class="product-code">–ö–æ–¥: ${product.code}</div>
                    <div class="product-rating">
                        <span class="rating-stars">${'‚òÖ'.repeat(Math.floor(averageRating))}${'‚òÜ'.repeat(5-Math.floor(averageRating))}</span>
                        <span class="rating-value">${averageRating.toFixed(1)}</span>
                    </div>
                    <div class="product-description">${product.description}</div>
                    <div class="product-tags">
                        ${product.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    <div class="product-actions" style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="addToCart('${product.id}'); document.getElementById('product-modal').classList.remove('active');">
                            <i class="fas fa-shopping-cart"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>
                <div class="reviews-section" style="margin-top: 2rem;">
                    <h3>–û—Ç–∑—ã–≤—ã</h3>
                    ${state.currentUser ? `
                        <div class="review-form">
                            <h4>–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h4>
                            <div class="rating" id="review-rating">
                                <span class="star" data-rating="1">‚òÖ</span>
                                <span class="star" data-rating="2">‚òÖ</span>
                                <span class="star" data-rating="3">‚òÖ</span>
                                <span class="star" data-rating="4">‚òÖ</span>
                                <span class="star" data-rating="5">‚òÖ</span>
                            </div>
                            <textarea id="review-text" placeholder="–í–∞—à –æ—Ç–∑—ã–≤..." style="width: 100%; padding: 0.8rem; border: 1px solid var(--border); border-radius: 4px; margin-bottom: 1rem;" rows="4"></textarea>
                            <button class="btn btn-primary" onclick="submitReview('${product.id}')">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
                        </div>
                    ` : '<p>–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</p>'}
                    <div class="review-list">
                        ${productReviews.length > 0 ? productReviews.map(review => `
                            <div class="review-item">
                                <div class="review-header">
                                    <span class="review-author">${review.userName || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π'}</span>
                                    <span class="review-rating">${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5-review.rating)}</span>
                                </div>
                                <div class="review-text">${review.text}</div>
                            </div>
                        `).join('') : '<p>–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä</p>'}
                    </div>
                </div>
            `;

            const stars = content.querySelectorAll('.star');
            let selectedRating = 0;
            
            stars.forEach(star => {
                star.addEventListener('click', function() {
                    selectedRating = parseInt(this.dataset.rating);
                    stars.forEach(s => {
                        if (parseInt(s.dataset.rating) <= selectedRating) {
                            s.classList.add('active');
                        } else {
                            s.classList.remove('active');
                        }
                    });
                });
            });

            modal.classList.add('active');
        }

        function handleFeedback() {
            const name = document.getElementById('feedback-name').value;
            const email = document.getElementById('feedback-email').value;
            const message = document.getElementById('feedback-message').value;

            console.log('–§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏:', { name, email, message });
            showMessage('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.', 'success');
            document.getElementById('feedback-form').reset();
        }

        function performSearch() {
            const query = document.getElementById('search-input').value.toLowerCase();
            const results = state.products.filter(product => 
                product.name.toLowerCase().includes(query) ||
                product.description.toLowerCase().includes(query) ||
                product.tags.some(tag => tag.toLowerCase().includes(query)) ||
                product.code.toLowerCase().includes(query)
            );

            displayProducts(results, 'featured-products');
        }

        function populateTagFilter() {
            const tagFilter = document.getElementById('tag-filter');
            tagFilter.innerHTML = '<option value="all">–í—Å–µ</option>' +
                state.tags.map(tag => `<option value="${tag.name}">${tag.name}</option>`).join('');
        }

        function filterProducts() {
            const category = document.getElementById('category-filter').value;
            const price = document.getElementById('price-filter').value;
            const tag = document.getElementById('tag-filter').value;

            let filteredProducts = state.products;

            if (category !== 'all') {
                filteredProducts = filteredProducts.filter(product => 
                    product.tags.includes(category)
                );
            }

            if (price !== 'all') {
                if (price === '0-3000') {
                    filteredProducts = filteredProducts.filter(product => product.price <= 3000);
                } else if (price === '3000-7000') {
                    filteredProducts = filteredProducts.filter(product => product.price > 3000 && product.price <= 7000);
                } else if (price === '7000-15000') {
                    filteredProducts = filteredProducts.filter(product => product.price > 7000 && product.price <= 15000);
                } else if (price === '15000+') {
                    filteredProducts = filteredProducts.filter(product => product.price > 15000);
                }
            }

            if (tag !== 'all') {
                filteredProducts = filteredProducts.filter(product => 
                    product.tags.includes(tag)
                );
            }

            displayProducts(filteredProducts, 'catalog-products');
        }

        function showMessage(text, type) {
            const messageEl = document.createElement('div');
            messageEl.className = `message ${type}`;
            messageEl.textContent = text;
            
            document.body.prepend(messageEl);
            
            setTimeout(() => {
                messageEl.remove();
            }, 3000);
        }

        function getProductName(productId) {
            const product = state.products.find(p => p.id === productId);
            return product ? product.name : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–æ–≤–∞—Ä';
        }

        function hideTopBanner() {
            document.getElementById('top-banner').classList.add('hidden');
            document.getElementById('show-banner').style.display = 'block';
            state.bannerHidden = true;
            localStorage.setItem('smileBannerHidden', JSON.stringify(true));
        }

        function showTopBanner() {
            document.getElementById('top-banner').classList.remove('hidden');
            document.getElementById('show-banner').style.display = 'none';
            state.bannerHidden = false;
            localStorage.setItem('smileBannerHidden', JSON.stringify(false));
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        async function editProduct(id) {
            const product = state.products.find(p => p.id === id);
            if (product) {
                showProductForm(product);
            }
        }

        async function deleteProduct(id) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä?')) {
                try {
                    await database.ref(`products/${id}`).remove();
                    state.products = state.products.filter(p => p.id !== id);
                    loadAdminData();
                    loadInitialData();
                    showMessage('–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞:', error);
                    showMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
                }
            }
        }

        async function editTag(id) {
            const tag = state.tags.find(t => t.id === id);
            if (tag) {
                showTagForm(tag);
            }
        }

        async function deleteTag(id) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–µ–≥?')) {
                try {
                    await database.ref(`tags/${id}`).remove();
                    state.tags = state.tags.filter(t => t.id !== id);
                    loadAdminData();
                    populateAvailableTags();
                    showMessage('–¢–µ–≥ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ç–µ–≥–∞:', error);
                    showMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–µ–≥–∞', 'error');
                }
            }
        }

        function editReview(id) {
            showMessage('–§—É–Ω–∫—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–∑—ã–≤–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ', 'success');
        }

        async function deleteReview(id) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç–∑—ã–≤?')) {
                try {
                    await database.ref(`reviews/${id}`).remove();
                    state.reviews = state.reviews.filter(r => r.id !== id);
                    loadAdminData();
                    showMessage('–û—Ç–∑—ã–≤ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞:', error);
                    showMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞', 'error');
                }
            }
        }

        function editUser(id) {
            showMessage('–§—É–Ω–∫—Ü–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ', 'success');
        }

        async function deleteUser(id) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) {
                try {
                    await database.ref(`users/${id}`).remove();
                    state.users = state.users.filter(u => u.id !== id);
                    loadAdminData();
                    showMessage('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω!', 'success');
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
                    showMessage('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', 'error');
                }
            }
        }

        // –ò–º–∏—Ç–∞—Ü–∏—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞
        setInterval(async () => {
            console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π...');
            try {
                await loadDataFromFirebase();
                console.log('–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', error);
            }
        }, 30000);
    </script>
</body>
</html>